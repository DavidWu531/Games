{% extends 'layout.html' %}

{% block content %}
{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<li>{{ message }}</li>
{% endfor %}
{% endif %}
{% endwith %}
<p>Want a new game to show up? Admins can add them here</p><br><br>
<div class="admin_game_container">
    <div class="admin_game_border">
        <form action="{{ form_action }}" method="POST">
            {% if form.errors %}
            <p>Please fix the following errors:</p>
            {% for field_name, error_list in form.errors.items() %}
            {% for error in error_list %}
            <p>{{ error }}</p>
            {% endfor %}
            {% endfor %}
            {% endif %}
            {{ form.hidden_tag() }}
            <h3>{{ form.game_name.label }}:</h3> {{ form.game_name }}<br>
            <h3>{{ form.game_description.label }}:</h3> {{ form.game_description }}<br>
            <h3>{{ form.game_developer.label }}:</h3> {{ form.game_developer }}<br>
            <h3>{{ form.categories.label }}:</h3>
            <div style="display: grid; grid-template-columns: repeat(6, 150px); gap: 8px;">
                {% for subfield in form.categories %}
                <label>{{ subfield() }} {{ subfield.label.text }}</label><br>
                {% endfor %}
            </div><br>
            <h3>{{ form.platforms.label }}:</h3>
            <div style="display: grid; grid-template-columns: repeat(6, 150px); gap: 8px">
                {% for subfield in form.platforms %}
                <label>{{ subfield(class="platform-checkbox", onchange="toggle_div()") }} {{ subfield.label.text
                    }}</label><br>
                {% endfor %}
            </div><br>
            <div id="pc_requirements" style="display: none;">
                <h2>PC Details</h2><br>
                <h3>{{ form.pc_type.label }}:</h3> {{ form.pc_type }}<br>
                <h3>{{ form.pc_os.label }}:</h3> {{ form.pc_os }}<br>
                <h3>{{ form.pc_ram.label }}:</h3> {{ form.pc_ram }}<br>
                <h3>{{ form.pc_cpu.label }}:</h3> {{ form.pc_cpu }}<br>
                <h3>{{ form.pc_gpu.label }}:</h3> {{ form.pc_gpu }}<br>
                <h3>{{ form.pc_storage.label }}:</h3> {{ form.pc_storage }}<br>
                <h3>{{ form.pc_price.label }}:</h3> {{ form.pc_price }}<br>
                <h3>{{ form.pc_release_date.label }}:</h3> {{ form.pc_release_date }}<br>
            </div>
            <div id="ps_requirements" style="display: none;">
                <h2>PlayStation Details</h2><br>
                <h3>{{ form.ps_os.label }}:</h3> {{ form.ps_os }}<br>
                <h3>{{ form.ps_storage.label }}:</h3> {{ form.ps_storage }}<br>
                <h3>{{ form.ps_price.label }}:</h3> {{ form.ps_price }}<br>
                <h3>{{ form.ps_release_date.label }}:</h3> {{ form.ps_release_date }}<br>
            </div>
            <div id="xb_requirements" style="display: none;">
                <h2>Xbox Details</h2><br>
                <h3>{{ form.xb_os.label }}:</h3> {{ form.xb_os }}<br>
                <h3>{{ form.xb_storage.label }}:</h3> {{ form.xb_storage }}<br>
                <h3>{{ form.xb_price.label }}:</h3> {{ form.xb_price }}<br>
                <h3>{{ form.xb_release_date.label }}:</h3> {{ form.xb_release_date }}<br>
            </div>
            {{ form.submit }}<br>
        </form>
    </div>
</div>
{% endblock %}